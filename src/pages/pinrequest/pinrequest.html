<ion-header>
  <ion-navbar>
    <ion-title>
      <ion-icon name="menu" menuToggle class='menu-icon'></ion-icon>
      ePIN Request
    </ion-title>
  </ion-navbar>
  <!-- Filter-->
  <ion-fab top right edge class="pin_menu">
    <button ion-fab mini>
      <ion-icon name="pricetag"></ion-icon>
    </button>
    <ion-fab-list>
      <ul class="fab_list">
        <li (click)="gotopindetail()"><a href="javascript:void(0)">
            <ion-icon name="pricetag"></ion-icon>
            <div class="clearfix"></div> PIN Details
          </a></li>
        <li>
          <a href="javascript:void(0)">
            <ion-icon name="pricetag"></ion-icon>
            <div class="clearfix"></div> e-PIN Request
          </a>
        </li>
        <li (click)="gotopintransafer()"><a href="javascript:void(0)">
            <ion-icon name="pricetag"></ion-icon>
            <div class="clearfix"></div> PIN Transfer
          </a></li>
        <li (click)="gotopinreport()">
          <a href="javascript:void(0)">
            <ion-icon name="pricetag"></ion-icon>
            <div class="clearfix"></div> PIN Transfer Report
          </a>
        </li>
      </ul>
    </ion-fab-list>
  </ion-fab>
  <!-- /Filter-->
</ion-header>
<ion-content>
  <ion-card>
    <table>
      <thead>
        <tr>
          <th>Plan</th>
          <th>Amount</th>
          <th>No. OF ePins</th>
          <th>Total Amount</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of product;let i=index; ">
          <td>{{item.ProductName}}</td>
          <td>{{item.ProductPrice}}</td>
          <td><input (change)="pinchange(i)" type="number" ion-input [(ngModel)]="item.pin" /></td>
          <td>{{item.total}}</td>
        </tr>
        <tr style="display:none">
          <td>Plan B 4500</td>
          <td>{{objepin.productB.price}}</td>
          <td><input (change)="pinchange('B')" ion-input [(ngModel)]="objepin.productB.pin" /></td>
          <td>{{objepin.productB.total}}</td>
        </tr>
        <tr>
          <td class="text-right" colspan="3"><strong>TOTAL &nbsp;</strong></td>
          <td>{{total}}</td>
        </tr>
      </tbody>
    </table>
  </ion-card>
  <ion-card>


    <ion-item>
      <ion-label>Payment Mode:</ion-label>
      <ion-select (ionChange)="getmode()" interface="popover" placeholder="Select Payment Mode"
        [(ngModel)]="objepin.pmode">
        <ion-option value="Cheque">Cheque</ion-option>
        <ion-option value="Cash">Cash</ion-option>
        <ion-option value="BankersCheque">Bankers Cheque</ion-option>
        <ion-option value="BankDeposit">Bank Deposit</ion-option>
        <ion-option value="OnlineTransaction">Online Transaction</ion-option>
      </ion-select>
    </ion-item>
    <!-- condition Based -->
    <ion-item>
      <ion-label>Payment Amount:</ion-label>
      <ion-input readonly [(ngModel)]="total" placeholder="0"></ion-input>
    </ion-item>
    <div *ngIf="! isCash">
      <ion-item>
        <ion-label class="lbl">Cheque/DD No/Bank Transaction No: </ion-label>

      </ion-item>
      <ion-item>

        <ion-input [(ngModel)]="objepin.cdbtn" placeholder="Cheque/DD No/Bank Transaction No"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label class="lbl">Cheque/DD Date/Transaction Date: </ion-label>

      </ion-item>
      <ion-item>
        <ion-datetime [(ngModel)]="objepin.cdtd" placeholder="Cheque/DD Date/Transaction Date"
          displayFormat="DD/MM/YYYY">
        </ion-datetime>
        <!-- <ion-input [(ngModel)]="objepin.cdtd" placeholder="Cheque/DD Date/Transaction Date"></ion-input> -->
      </ion-item>
      <ion-item>
        <ion-label class="lbl">Bank Name: </ion-label>

      </ion-item>
      <ion-item>

        <ion-input placeholder="Bank Name" [(ngModel)]="objepin.bank"></ion-input>
      </ion-item>
    </div>
    <!-- condition Based END -->
  </ion-card>
  <ion-row>
    <ion-col col-6>
      <button ion-button (click)="epinrequest()">Submit</button>
    </ion-col>
    <ion-col col-6>
      <button ion-button (click)="reset()">Reset</button>
    </ion-col>
  </ion-row>
</ion-content>
<ion-footer>
  <ion-toolbar>
    <ion-buttons>
      <button ion-button>Contoso उजाला</button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
